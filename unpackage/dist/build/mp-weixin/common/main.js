(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["common/main"],{"457d":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n("2f62"),r=n("0c81");function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){c(e,t,n[t])})}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i={onLaunch:function(){this.getPLatform(),this.checkUpdateAndApply(),this.openBlueToothAdapterAndListenState(),this.listenBLEConnectionStateChange(),this.listenResponseOrder()},onShow:function(){},methods:a({},(0,o.mapMutations)(["setBlueToothOpen","setBleConnected","setResponseOrder","setOpenLocation","setbattery","setPlatform"]),{getPLatform:function(){var t=this;e.getSystemInfo({success:function(e){t.setPlatform(e.platform)}})},openBlueToothAdapterAndListenState:function(){},listenBLEConnectionStateChange:function(){var t=this;e.onBLEConnectionStateChange(function(e){console.warn("蓝牙连接状态发生改变",e),t.setBleConnected(e.connected)})},listenResponseOrder:function(){var t=this,n=0;e.onBLECharacteristicValueChange(function(e){if((new Date).getTime()-n<200)t.setResponseOrder(t.responseOrder+(0,r.Ab2String)(e.value)),console.log("分包相应的结果合并为",t.responseOrder);else{n=(new Date).getTime();var o=(0,r.Ab2String)(e.value);if(-1!=o.indexOf("5130383D")){var a=o.substring(8,12);t.setbattery(parseInt(String.fromCharCode(parseInt(a.substring(0,2),16))+String.fromCharCode(parseInt(a.substring(2),16))))}else t.setResponseOrder(o);console.log("监听到设备的响应为",o)}})},checkUpdateAndApply:function(){var t=e.getUpdateManager();t.onCheckForUpdate(function(n){n.hasUpdate&&e.showLoading({title:"新版本安装中"}),t.onUpdateReady(function(e){t.applyUpdate()})}),t.onUpdateFailed(function(t){e.hideLoading(),e.showModal({title:"更新失败",content:"更新失败,请重启小程序",showCancel:!1,success:function(e){e.confirm&&console.log("用户点击确定")}}),console.error("更新下载失败")})},judgePlatformVersion:function(){e.getSystemInfo({success:function(t){(0,r.isNeedVersion)(t.platform,t.version)||e.showModal({title:"提示",content:"当前微信版本过低,请更新至最新版本才能连接蓝牙哦!",showCancel:!1,success:function(t){t.confirm&&e.reLaunch({url:"../index/index"})}})}})}}),computed:a({},(0,o.mapState)(["responseOrder","deviceId","blueToothOpen"]))};t.default=i}).call(this,n("543d")["default"])},"740f":function(e,t,n){"use strict";n.r(t);var o=n("457d"),r=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,function(){return o[e]})}(a);t["default"]=r.a},a07a:function(e,t,n){},a993:function(e,t,n){"use strict";n.r(t);var o=n("740f");for(var r in o)"default"!==r&&function(e){n.d(t,e,function(){return o[e]})}(r);n("b4bb");var a,c,i,s,u=n("f0c5"),l=Object(u["a"])(o["default"],a,c,!1,null,null,null,!1,i,s);t["default"]=l.exports},b4bb:function(e,t,n){"use strict";var o=n("a07a"),r=n.n(o);r.a},badc:function(e,t,n){"use strict";(function(e){n("6a51"),n("921b");var t=a(n("66fd")),o=a(n("a993")),r=a(n("9ea5"));function a(e){return e&&e.__esModule?e:{default:e}}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){i(e,t,n[t])})}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.default.prototype.$store=r.default,t.default.config.productionTip=!1,o.default.mpType="app";var s=new t.default(c({store:r.default},o.default));e(s).$mount()}).call(this,n("543d")["createApp"])}},[["badc","common/runtime","common/vendor"]]]);